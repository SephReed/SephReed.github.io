<script type="text/javascript">




PINE.createNeedle("[tempFeedback]", function() {
	this.addAttArg("timeAlive", ["tempFeedback"], "number", "2");
	this.addAttArg("timeFade", ["tempFeedbackFade", "feedbackFade"], "number", "2");
	this.addAttArg("atStart", ["tempFeedbackAtStart", "feedbackAtStart"], "exists");

	this.addOp(function(state) {
		state.domNode.addEventListener("animationend", function() {
			state.domNode.classList.remove("fading");
			state.domNode.classList.add("inactive");
		});

		if(state.getArg("atStart") == false)
			state.domNode.classList.add("inactive");

		else 
			state.domNode.FNS.feedbackSetMessage("KEEP_CURRENT_MSG");
	});


	this.addFN("feedbackSetMessage", function(msg) {
		var state = this;
		
		if(msg != "KEEP_CURRENT_MSG")
			state.domNode.textContent = msg;

		state.domNode.style.animationDelay = state.getArg("timeAlive") + "s";
		state.domNode.style.animationDuration = state.getArg("timeFade") + "s";

		state.domNode.classList.remove("inactive");
		state.domNode.classList.add("fading");
	});
});

	
</script>



<style>
@keyframes feedbackFadeout {
	0% {opacity: 1}
	100% {opacity: 0}
}

*[tempFeedback] {
	pointer-events: none;
	animation-timing-function: ease;
	animation-iteration-count: 1;
}

*[tempFeedback].inactive {
	visibility: hidden;
}

*[tempFeedback].fading {
	animation-name: feedbackFadeout;
}
</style>









